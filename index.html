<!doctype html>
<html lang="en" class="h-full w-full">

<head>
    <meta charset="UTF-8">
    <title>Happy Birthday, Srinithi! ðŸŽ‚</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <style>
        body {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            width: 100%;
            margin: 0;
        }

        @keyframes floatUpDown {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-5%);
            }
        }

        @keyframes pulseGlow {

            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
            }

            70% {
                transform: scale(1.03);
                box-shadow: 0 0 40px 8px rgba(255, 255, 255, 0.35);
            }
        }

        @keyframes confettiFall {
            0% {
                transform: translate3d(0, -10%, 0) rotate(0deg);
                opacity: 0;
            }

            20% {
                opacity: 1;
            }

            100% {
                transform: translate3d(0, 110%, 0) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes flickerFlame {

            0%,
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
            }

            25% {
                transform: scale(1.1) translateY(-2px);
                opacity: 0.9;
            }

            50% {
                transform: scale(0.95) translateY(1px);
                opacity: 1;
            }

            75% {
                transform: scale(1.05) translateY(-1px);
                opacity: 0.95;
            }
        }

        @keyframes blowOut {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.5) translateX(20px);
                opacity: 0.5;
            }

            100% {
                transform: scale(0);
                opacity: 0;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes cardFloat {

            0%,
            100% {
                transform: translateY(0) rotate(-2deg);
            }

            50% {
                transform: translateY(-10px) rotate(2deg);
            }
        }

        @keyframes sparkle {

            0%,
            100% {
                opacity: 0;
                transform: scale(0);
            }

            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-float {
            animation: floatUpDown 5s ease-in-out infinite;
        }

        .animate-pulse-glow {
            animation: pulseGlow 2.4s ease-in-out infinite;
        }

        .confetti-piece {
            animation: confettiFall linear infinite;
        }

        .flame-flicker {
            animation: flickerFlame 1.5s ease-in-out infinite;
        }

        .blow-out {
            animation: blowOut 0.8s ease-out forwards;
        }

        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        .card-float {
            animation: cardFloat 4s ease-in-out infinite;
        }

        .sparkle {
            animation: sparkle 1.5s ease-in-out infinite;
        }

        .lights-off {
            transition: all 1.2s ease-out;
        }

        .focus-ring {
            outline: 2px solid transparent;
            outline-offset: 2px;
        }

        .focus-ring:focus-visible {
            outline-color: rgba(255, 255, 255, 0.9);
        }

        .wish-card {
            backdrop-filter: blur(12px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }
    </style>
    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>

<body class="h-full w-full">
    <div id="app-wrapper" class="w-full h-full">
        <div id="birthday-app" class="w-full h-full flex flex-col"><!-- Background gradient + confetti canvas -->
            <div id="background-layer" class="relative w-full h-full overflow-hidden transition-all duration-1000">
                <!-- Confetti container -->
                <div id="confetti-container" aria-hidden="true" class="pointer-events-none absolute inset-0"></div>
                <!-- Main layout -->
                <div class="w-full h-full flex items-center justify-center px-4 py-6 relative">
                    <!-- SCENE 1: Cake Scene (Initial) -->
                    <div id="cake-scene-container"
                        class="w-full h-full flex items-center justify-center opacity-100 transition-opacity duration-1000">
                        <aside class="max-w-5xl w-full" aria-label="Birthday cake scene">
                            <div id="cake-scene"
                                class="relative rounded-3xl shadow-2xl px-6 py-8 sm:px-10 sm:py-12 overflow-hidden">
                                <!-- Sparkles -->
                                <div class="absolute top-4 left-4 w-3 h-3 bg-yellow-300 rounded-full sparkle"
                                    style="animation-delay: 0s;"></div>
                                <div class="absolute top-8 right-12 w-3 h-3 bg-pink-300 rounded-full sparkle"
                                    style="animation-delay: 0.5s;"></div>
                                <div class="absolute bottom-12 left-8 w-3 h-3 bg-blue-300 rounded-full sparkle"
                                    style="animation-delay: 1s;"></div>
                                <div class="absolute bottom-6 right-6 w-3 h-3 bg-purple-300 rounded-full sparkle"
                                    style="animation-delay: 1.5s;"></div>
                                <div class="flex flex-col items-center justify-center gap-8">
                                    <h2
                                        class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white text-center mb-4">
                                        ðŸŽ‚ Make a Wish, Srinithi! ðŸŽ‚</h2>
                                    <div class="flex flex-col md:flex-row items-end justify-center gap-4 md:gap-8">
                                        <!-- Girl character (Birthday girl) - Walking animation -->
                                        <div id="girl-character"
                                            class="flex-shrink-0 transform transition-all duration-2000"
                                            style="transform: translateX(-100px); opacity: 0;" aria-hidden="true">
                                            <svg viewbox="0 0 200 340"
                                                class="w-32 h-56 sm:w-48 sm:h-72 md:w-56 md:h-80"><!-- Shadow with 3D effect -->
                                                <ellipse cx="100" cy="315" rx="50" ry="15" fill="rgba(0,0,0,0.2)" />
                                                <ellipse cx="100" cy="315" rx="35" ry="10" fill="rgba(0,0,0,0.1)" />
                                                <!-- Advanced gradients for 3D effect -->
                                                <defs><!-- Skin gradients with 3D depth -->
                                                    <radialgradient id="skinFace" cx="45%" cy="35%">
                                                        <stop offset="0%" style="stop-color:#FFD5B8;stop-opacity:1" />
                                                        <stop offset="60%" style="stop-color:#F4C7A0;stop-opacity:1" />
                                                        <stop offset="100%" style="stop-color:#D4A574;stop-opacity:1" />
                                                    </radialgradient>
                                                    <lineargradient id="skinArm" x1="0%" y1="0%" x2="100%" y2="0%">
                                                        <stop offset="0%" style="stop-color:#D4A574;stop-opacity:1" />
                                                        <stop offset="40%" style="stop-color:#F4C7A0;stop-opacity:1" />
                                                        <stop offset="100%" style="stop-color:#D4A574;stop-opacity:1" />
                                                    </lineargradient>
                                                    <lineargradient id="skinLeg" x1="0%" y1="0%" x2="100%" y2="0%">
                                                        <stop offset="0%" style="stop-color:#C89968;stop-opacity:1" />
                                                        <stop offset="50%" style="stop-color:#E0B896;stop-opacity:1" />
                                                        <stop offset="100%" style="stop-color:#C89968;stop-opacity:1" />
                                                    </lineargradient>
                                                    <!-- Beautiful Birthday Dress gradients with 3D shading -->
                                                    <lineargradient id="dressMain" x1="0%" y1="0%" x2="0%" y2="100%">
                                                        <stop offset="0%" style="stop-color:#FF69B4;stop-opacity:1" />
                                                        <stop offset="30%" style="stop-color:#FF85C1;stop-opacity:1" />
                                                        <stop offset="70%" style="stop-color:#FFA0D2;stop-opacity:1" />
                                                        <stop offset="100%" style="stop-color:#FF69B4;stop-opacity:1" />
                                                    </lineargradient>
                                                    <lineargradient id="dressShadow" x1="0%" y1="0%" x2="100%" y2="0%">
                                                        <stop offset="0%" style="stop-color:#C71585;stop-opacity:0.5" />
                                                        <stop offset="50%" style="stop-color:#C71585;stop-opacity:0" />
                                                        <stop offset="100%"
                                                            style="stop-color:#C71585;stop-opacity:0.5" />
                                                    </lineargradient>
                                                    <radialgradient id="dressHighlight" cx="50%" cy="20%">
                                                        <stop offset="0%" style="stop-color:#FFE4F0;stop-opacity:0.8" />
                                                        <stop offset="100%" style="stop-color:#FFE4F0;stop-opacity:0" />
                                                    </radialgradient> <!-- Hair gradient with depth -->
                                                    <radialgradient id="hairGradient" cx="50%" cy="30%">
                                                        <stop offset="0%" style="stop-color:#3D2817;stop-opacity:1" />
                                                        <stop offset="70%" style="stop-color:#2C1810;stop-opacity:1" />
                                                        <stop offset="100%" style="stop-color:#1a0f08;stop-opacity:1" />
                                                    </radialgradient>
                                                </defs> <!-- Legs with 3D structure -->
                                                <g id="legs"><!-- Left leg -->
                                                    <ellipse cx="85" cy="260" rx="11" ry="30" fill="url(#skinLeg)" />
                                                    <ellipse cx="85" cy="290" rx="10" ry="25" fill="url(#skinLeg)" />
                                                    <ellipse cx="82" cy="270" rx="3" ry="15" fill="#C89968"
                                                        opacity="0.3" /> <!-- Right leg -->
                                                    <ellipse cx="115" cy="260" rx="11" ry="30" fill="url(#skinLeg)" />
                                                    <ellipse cx="115" cy="290" rx="10" ry="25" fill="url(#skinLeg)" />
                                                    <ellipse cx="118" cy="270" rx="3" ry="15" fill="#FFE4D0"
                                                        opacity="0.4" />
                                                </g> <!-- Elegant shoes with 3D detail -->
                                                <g id="shoes">
                                                    <ellipse cx="85" cy="315" rx="16" ry="9" fill="#FF1493" />
                                                    <ellipse cx="85" cy="313" rx="14" ry="7" fill="#FF69B4" />
                                                    <ellipse cx="82" cy="312" rx="8" ry="4" fill="#FFB6D9"
                                                        opacity="0.6" />
                                                    <circle cx="85" cy="310" r="3" fill="#FFD700" />
                                                    <ellipse cx="115" cy="315" rx="16" ry="9" fill="#FF1493" />
                                                    <ellipse cx="115" cy="313" rx="14" ry="7" fill="#FF69B4" />
                                                    <ellipse cx="118" cy="312" rx="8" ry="4" fill="#FFB6D9"
                                                        opacity="0.6" />
                                                    <circle cx="115" cy="310" r="3" fill="#FFD700" />
                                                </g> <!-- Beautiful Birthday Dress with 3D structure -->
                                                <g id="dress"><!-- Main dress body - flowing A-line -->
                                                    <path
                                                        d="M 55 175 L 45 240 Q 45 252 58 252 L 142 252 Q 155 252 155 240 L 145 175 Z"
                                                        fill="url(#dressMain)" />
                                                    <!-- Dress shadow overlay for depth -->
                                                    <path
                                                        d="M 55 175 L 45 240 Q 45 252 58 252 L 142 252 Q 155 252 155 240 L 145 175 Z"
                                                        fill="url(#dressShadow)" /> <!-- Dress highlight for shine -->
                                                    <ellipse cx="100" cy="200" rx="40" ry="50"
                                                        fill="url(#dressHighlight)" />
                                                    <!-- Dress pleats and folds for 3D effect -->
                                                    <path d="M 65 180 Q 62 210 60 240" stroke="#FF1493"
                                                        stroke-width="1.5" fill="none" opacity="0.3" />
                                                    <path d="M 80 180 Q 77 210 75 240" stroke="#FF1493"
                                                        stroke-width="1.5" fill="none" opacity="0.3" />
                                                    <path d="M 100 180 L 100 245" stroke="#FF1493" stroke-width="1.5"
                                                        opacity="0.3" />
                                                    <path d="M 120 180 Q 123 210 125 240" stroke="#FF1493"
                                                        stroke-width="1.5" fill="none" opacity="0.3" />
                                                    <path d="M 135 180 Q 138 210 140 240" stroke="#FF1493"
                                                        stroke-width="1.5" fill="none" opacity="0.3" />
                                                    <!-- Dress ruffles at bottom -->
                                                    <path
                                                        d="M 50 240 Q 60 248 70 240 T 90 240 T 110 240 T 130 240 T 150 240"
                                                        stroke="#FFB6D9" stroke-width="3" fill="none" opacity="0.6" />
                                                    <!-- Sparkly belt with bow -->
                                                    <rect x="52" y="210" width="96" height="12" rx="6" fill="#FFD700" />
                                                    <rect x="52" y="210" width="96" height="4" fill="#FFF4A0"
                                                        opacity="0.7" /> <!-- Beautiful bow at waist -->
                                                    <ellipse cx="85" cy="216" rx="12" ry="8" fill="#FFD700"
                                                        transform="rotate(-20 85 216)" />
                                                    <ellipse cx="115" cy="216" rx="12" ry="8" fill="#FFD700"
                                                        transform="rotate(20 115 216)" />
                                                    <circle cx="100" cy="216" r="6" fill="#FFA500" />
                                                    <circle cx="100" cy="216" r="4" fill="#FFD700" />
                                                    <ellipse cx="85" cy="214" rx="6" ry="4" fill="#FFF4A0" opacity="0.6"
                                                        transform="rotate(-20 85 214)" />
                                                    <ellipse cx="115" cy="214" rx="6" ry="4" fill="#FFF4A0"
                                                        opacity="0.6" transform="rotate(20 115 214)" />
                                                </g> <!-- Upper body/torso with 3D structure -->
                                                <g id="torso"><!-- Dress top part - fitted bodice -->
                                                    <path
                                                        d="M 60 145 L 55 175 L 145 175 L 140 145 Q 135 140 100 140 Q 65 140 60 145 Z"
                                                        fill="url(#dressMain)" />
                                                    <path
                                                        d="M 60 145 L 55 175 L 145 175 L 140 145 Q 135 140 100 140 Q 65 140 60 145 Z"
                                                        fill="url(#dressShadow)" />
                                                    <ellipse cx="100" cy="155" rx="35" ry="25"
                                                        fill="url(#dressHighlight)" /> <!-- Sweetheart neckline -->
                                                    <path
                                                        d="M 70 145 Q 75 150 85 148 Q 92 146 100 145 Q 108 146 115 148 Q 125 150 130 145"
                                                        stroke="#FFB6D9" stroke-width="2" fill="none" />
                                                    <path d="M 72 146 Q 80 152 100 150 Q 120 152 128 146" fill="#FFE4F0"
                                                        opacity="0.4" /> <!-- Decorative flowers on bodice -->
                                                    <circle cx="75" cy="160" r="5" fill="#FFD700" />
                                                    <circle cx="73" cy="158" r="2" fill="#FFF4A0" />
                                                    <circle cx="77" cy="158" r="2" fill="#FFF4A0" />
                                                    <circle cx="75" cy="162" r="2" fill="#FFF4A0" />
                                                    <circle cx="125" cy="160" r="5" fill="#FFD700" />
                                                    <circle cx="123" cy="158" r="2" fill="#FFF4A0" />
                                                    <circle cx="127" cy="158" r="2" fill="#FFF4A0" />
                                                    <circle cx="125" cy="162" r="2" fill="#FFF4A0" />
                                                </g> <!-- Arms with 3D structure -->
                                                <g id="arms"><!-- Left arm (extended forward - blowing) -->
                                                    <ellipse cx="48" cy="165" rx="11" ry="32" fill="url(#dressMain)"
                                                        transform="rotate(-30 48 165)" />
                                                    <ellipse cx="45" cy="165" rx="8" ry="30" fill="#FF85C1"
                                                        transform="rotate(-30 45 165)" opacity="0.6" />
                                                    <ellipse cx="38" cy="200" rx="9" ry="22" fill="url(#skinArm)"
                                                        transform="rotate(-20 38 200)" />
                                                    <ellipse cx="35" cy="225" rx="11" ry="14" fill="url(#skinArm)" />
                                                    <ellipse cx="32" cy="225" rx="4" ry="8" fill="#D4A574"
                                                        opacity="0.4" /> <!-- Right arm -->
                                                    <ellipse cx="152" cy="165" rx="11" ry="32" fill="url(#dressMain)"
                                                        transform="rotate(30 152 165)" />
                                                    <ellipse cx="155" cy="165" rx="8" ry="30" fill="#FF85C1"
                                                        transform="rotate(30 155 165)" opacity="0.6" />
                                                    <ellipse cx="160" cy="200" rx="9" ry="22" fill="url(#skinArm)"
                                                        transform="rotate(20 160 200)" />
                                                    <ellipse cx="163" cy="225" rx="11" ry="14" fill="url(#skinArm)" />
                                                    <ellipse cx="166" cy="225" rx="4" ry="8" fill="#FFE4D0"
                                                        opacity="0.5" />
                                                </g> <!-- Puff sleeves with sparkles -->
                                                <g id="sleeves">
                                                    <ellipse cx="55" cy="150" rx="15" ry="12" fill="url(#dressMain)"
                                                        opacity="0.9" />
                                                    <ellipse cx="55" cy="148" rx="12" ry="9" fill="#FFB6D9"
                                                        opacity="0.5" />
                                                    <circle cx="52" cy="146" r="2" fill="#FFD700" />
                                                    <ellipse cx="145" cy="150" rx="15" ry="12" fill="url(#dressMain)"
                                                        opacity="0.9" />
                                                    <ellipse cx="145" cy="148" rx="12" ry="9" fill="#FFB6D9"
                                                        opacity="0.5" />
                                                    <circle cx="148" cy="146" r="2" fill="#FFD700" />
                                                </g> <!-- Neck with 3D shading -->
                                                <ellipse cx="100" cy="135" rx="15" ry="20" fill="url(#skinArm)" />
                                                <ellipse cx="97" cy="135" rx="5" ry="15" fill="#D4A574" opacity="0.2" />
                                                <ellipse cx="103" cy="135" rx="5" ry="15" fill="#FFE4D0"
                                                    opacity="0.3" /> <!-- Head with 3D structure -->
                                                <ellipse cx="100" cy="100" rx="35" ry="42" fill="url(#skinFace)" />
                                                <ellipse cx="95" cy="100" rx="12" ry="35" fill="#D4A574"
                                                    opacity="0.15" />
                                                <ellipse cx="105" cy="100" rx="12" ry="35" fill="#FFE4D0"
                                                    opacity="0.2" /> <!-- Hair with 3D volume -->
                                                <g id="hair"><!-- Back hair -->
                                                    <ellipse cx="100" cy="75" rx="38" ry="25"
                                                        fill="url(#hairGradient)" /> <!-- Side hair with volume -->
                                                    <path
                                                        d="M 62 75 Q 58 85 60 100 Q 62 115 68 125 L 72 120 Q 68 105 70 90 Q 71 80 65 75 Z"
                                                        fill="url(#hairGradient)" />
                                                    <path
                                                        d="M 138 75 Q 142 85 140 100 Q 138 115 132 125 L 128 120 Q 132 105 130 90 Q 129 80 135 75 Z"
                                                        fill="url(#hairGradient)" />
                                                    <!-- Hair highlights for 3D effect -->
                                                    <ellipse cx="90" cy="70" rx="8" ry="12" fill="#3D2817"
                                                        opacity="0.6" />
                                                    <ellipse cx="110" cy="70" rx="8" ry="12" fill="#3D2817"
                                                        opacity="0.6" /> <!-- Hair strands -->
                                                    <path d="M 75 80 Q 78 90 76 100" stroke="#1a0f08" stroke-width="2"
                                                        fill="none" opacity="0.4" />
                                                    <path d="M 85 75 Q 87 85 86 95" stroke="#1a0f08" stroke-width="2"
                                                        fill="none" opacity="0.4" />
                                                    <path d="M 115 75 Q 113 85 114 95" stroke="#1a0f08" stroke-width="2"
                                                        fill="none" opacity="0.4" />
                                                    <path d="M 125 80 Q 122 90 124 100" stroke="#1a0f08"
                                                        stroke-width="2" fill="none" opacity="0.4" />
                                                </g> <!-- Eyebrows with 3D depth -->
                                                <path d="M 75 92 Q 82 89 90 91" stroke="#2C1810" stroke-width="3"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 110 91 Q 118 89 125 92" stroke="#2C1810" stroke-width="3"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 76 93 Q 82 91 89 92" stroke="#1a0f08" stroke-width="1.5"
                                                    fill="none" stroke-linecap="round" opacity="0.5" />
                                                <path d="M 111 92 Q 118 91 124 93" stroke="#1a0f08" stroke-width="1.5"
                                                    fill="none" stroke-linecap="round" opacity="0.5" />
                                                <!-- Eyes with realistic 3D detail -->
                                                <g id="eyes"><!-- Left eye -->
                                                    <ellipse cx="82" cy="102" rx="7" ry="8" fill="#FFFFFF" />
                                                    <ellipse cx="82" cy="103" rx="5.5" ry="6.5" fill="#8B6F47" />
                                                    <circle cx="82" cy="103" r="4" fill="#3D2817" />
                                                    <circle cx="83" cy="102" r="2.5" fill="#000000" />
                                                    <circle cx="84" cy="101" r="1.5" fill="#FFFFFF" opacity="0.9" />
                                                    <ellipse cx="82" cy="105" rx="2" ry="1" fill="#000000"
                                                        opacity="0.2" /> <!-- Right eye -->
                                                    <ellipse cx="118" cy="102" rx="7" ry="8" fill="#FFFFFF" />
                                                    <ellipse cx="118" cy="103" rx="5.5" ry="6.5" fill="#8B6F47" />
                                                    <circle cx="118" cy="103" r="4" fill="#3D2817" />
                                                    <circle cx="119" cy="102" r="2.5" fill="#000000" />
                                                    <circle cx="120" cy="101" r="1.5" fill="#FFFFFF" opacity="0.9" />
                                                    <ellipse cx="118" cy="105" rx="2" ry="1" fill="#000000"
                                                        opacity="0.2" />
                                                </g> <!-- Eyelashes with detail -->
                                                <path d="M 76 100 Q 74 97 73 94" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 80 99 Q 78 96 77 93" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 88 100 Q 90 97 91 94" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 112 100 Q 110 97 109 94" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 120 99 Q 122 96 123 93" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 124 100 Q 126 97 127 94" stroke="#2C1810" stroke-width="1.2"
                                                    fill="none" stroke-linecap="round" />
                                                <!-- Nose with 3D structure -->
                                                <path d="M 100 105 L 98 116" stroke="#D4A574" stroke-width="2"
                                                    fill="none" stroke-linecap="round" />
                                                <path d="M 98 116 Q 100 119 102 116" stroke="#D4A574" stroke-width="2"
                                                    fill="none" stroke-linecap="round" />
                                                <ellipse cx="96" cy="116" rx="3" ry="2" fill="#C89968" opacity="0.3" />
                                                <ellipse cx="104" cy="116" rx="3" ry="2" fill="#C89968" opacity="0.3" />
                                                <ellipse cx="100" cy="110" rx="4" ry="8" fill="#FFE4D0" opacity="0.2" />
                                                <!-- Mouth (blowing) with 3D depth -->
                                                <ellipse id="mouth-blow" cx="100" cy="128" rx="8" ry="11" fill="#8B4545"
                                                    opacity="0.7" />
                                                <ellipse cx="100" cy="128" rx="6" ry="9" fill="#A85858" opacity="0.6" />
                                                <ellipse cx="100" cy="126" rx="4" ry="5" fill="#C97676" opacity="0.4" />
                                                <!-- Blush with 3D effect -->
                                                <ellipse cx="68" cy="110" rx="10" ry="7" fill="#FFB6C1"
                                                    opacity="0.35" />
                                                <ellipse cx="132" cy="110" rx="10" ry="7" fill="#FFB6C1"
                                                    opacity="0.35" />
                                                <ellipse cx="66" cy="109" rx="6" ry="4" fill="#FF9BAD" opacity="0.25" />
                                                <ellipse cx="134" cy="109" rx="6" ry="4" fill="#FF9BAD"
                                                    opacity="0.25" />
                                            </svg>
                                        </div><!-- Cake with interactive candle -->
                                        <div class="flex flex-col items-center gap-3 md:gap-6">
                                            <div id="candle-button"
                                                class="focus-ring relative w-40 h-40 sm:w-56 sm:h-56 md:w-64 md:h-64 animate-pulse-glow cursor-pointer"
                                                aria-label="Watch the candle get blown out">
                                                <svg viewbox="0 0 180 180" class="w-full h-full">
                                                    <defs><!-- 3D Cake gradients -->
                                                        <lineargradient id="plateGradient" x1="0%" y1="0%" x2="0%"
                                                            y2="100%">
                                                            <stop offset="0%"
                                                                style="stop-color:#A0826D;stop-opacity:1" />
                                                            <stop offset="50%"
                                                                style="stop-color:#8B7355;stop-opacity:1" />
                                                            <stop offset="100%"
                                                                style="stop-color:#6B5644;stop-opacity:1" />
                                                        </lineargradient>
                                                        <radialgradient id="cakeBodyGradient" cx="50%" cy="30%">
                                                            <stop offset="0%"
                                                                style="stop-color:#FFF5F0;stop-opacity:1" />
                                                            <stop offset="60%"
                                                                style="stop-color:#FFE4E1;stop-opacity:1" />
                                                            <stop offset="100%"
                                                                style="stop-color:#FFD0C8;stop-opacity:1" />
                                                        </radialgradient>
                                                        <lineargradient id="icingGradient" x1="0%" y1="0%" x2="0%"
                                                            y2="100%">
                                                            <stop offset="0%"
                                                                style="stop-color:#FF85C1;stop-opacity:1" />
                                                            <stop offset="50%"
                                                                style="stop-color:#FF69B4;stop-opacity:1" />
                                                            <stop offset="100%"
                                                                style="stop-color:#FF1493;stop-opacity:1" />
                                                        </lineargradient>
                                                        <radialgradient id="icingShine" cx="50%" cy="20%">
                                                            <stop offset="0%"
                                                                style="stop-color:#FFE4F0;stop-opacity:0.8" />
                                                            <stop offset="100%"
                                                                style="stop-color:#FFE4F0;stop-opacity:0" />
                                                        </radialgradient>
                                                        <lineargradient id="candleGradient" x1="0%" y1="0%" x2="100%"
                                                            y2="0%">
                                                            <stop offset="0%"
                                                                style="stop-color:#FF4500;stop-opacity:1" />
                                                            <stop offset="50%"
                                                                style="stop-color:#FF6347;stop-opacity:1" />
                                                            <stop offset="100%"
                                                                style="stop-color:#FF4500;stop-opacity:1" />
                                                        </lineargradient>
                                                        <radialgradient id="flameGradient" cx="50%" cy="50%">
                                                            <stop offset="0%"
                                                                style="stop-color:#FFFF00;stop-opacity:1" />
                                                            <stop offset="40%"
                                                                style="stop-color:#FFD700;stop-opacity:1" />
                                                            <stop offset="80%"
                                                                style="stop-color:#FFA500;stop-opacity:0.8" />
                                                            <stop offset="100%"
                                                                style="stop-color:#FF8C00;stop-opacity:0.4" />
                                                        </radialgradient>
                                                    </defs> <!-- Cake plate with 3D depth -->
                                                    <ellipse cx="90" cy="162" rx="72" ry="15" fill="#6B5644"
                                                        opacity="0.3" />
                                                    <ellipse cx="90" cy="160" rx="70" ry="14" id="cake-plate"
                                                        fill="url(#plateGradient)" />
                                                    <ellipse cx="90" cy="158" rx="65" ry="10" fill="#A0826D"
                                                        opacity="0.4" />
                                                    <ellipse cx="90" cy="157" rx="50" ry="6" fill="#C4A080"
                                                        opacity="0.3" /> <!-- Cake body with 3D structure -->
                                                    <rect x="25" y="85" width="130" height="70" rx="15" id="cake-body"
                                                        fill="url(#cakeBodyGradient)" />
                                                    <!-- Cake side shadows for depth -->
                                                    <rect x="25" y="85" width="15" height="70" rx="15" fill="#FFD0C8"
                                                        opacity="0.6" />
                                                    <rect x="140" y="85" width="15" height="70" rx="15" fill="#E8C8C0"
                                                        opacity="0.4" /> <!-- Cake layers with 3D effect -->
                                                    <rect x="25" y="105" width="130" height="5" fill="#FFB6C1"
                                                        opacity="0.7" />
                                                    <rect x="25" y="106" width="130" height="2" fill="#FF85A8"
                                                        opacity="0.5" />
                                                    <rect x="25" y="125" width="130" height="5" fill="#FFB6C1"
                                                        opacity="0.7" />
                                                    <rect x="25" y="126" width="130" height="2" fill="#FF85A8"
                                                        opacity="0.5" /> <!-- Layer highlights -->
                                                    <rect x="30" y="105" width="120" height="2" fill="#FFE4F0"
                                                        opacity="0.4" />
                                                    <rect x="30" y="125" width="120" height="2" fill="#FFE4F0"
                                                        opacity="0.4" /> <!-- Icing with 3D waves -->
                                                    <path
                                                        d="M25 95 Q45 108 65 95 T105 95 T145 95 T155 95 L155 72 L25 72 Z"
                                                        id="cake-icing" fill="url(#icingGradient)" />
                                                    <ellipse cx="90" cy="80" rx="60" ry="20" fill="url(#icingShine)" />
                                                    <!-- Icing side depth -->
                                                    <path d="M25 95 Q30 100 35 95 L35 72 L25 72 Z" fill="#FF1493"
                                                        opacity="0.6" />
                                                    <path d="M155 95 Q150 100 145 95 L145 72 L155 72 Z" fill="#C71585"
                                                        opacity="0.4" /> <!-- Realistic icing drips with 3D -->
                                                    <g id="icing-drip-1">
                                                        <ellipse cx="40" cy="100" rx="7" ry="9"
                                                            fill="url(#icingGradient)" />
                                                        <ellipse cx="40" cy="98" rx="5" ry="6" fill="#FF85C1"
                                                            opacity="0.6" />
                                                        <ellipse cx="38" cy="97" rx="3" ry="4" fill="#FFB6D9"
                                                            opacity="0.5" />
                                                    </g>
                                                    <g id="icing-drip-2">
                                                        <ellipse cx="70" cy="105" rx="7" ry="10"
                                                            fill="url(#icingGradient)" />
                                                        <ellipse cx="70" cy="103" rx="5" ry="7" fill="#FF85C1"
                                                            opacity="0.6" />
                                                        <ellipse cx="68" cy="102" rx="3" ry="5" fill="#FFB6D9"
                                                            opacity="0.5" />
                                                    </g>
                                                    <g id="icing-drip-3">
                                                        <ellipse cx="100" cy="100" rx="7" ry="9"
                                                            fill="url(#icingGradient)" />
                                                        <ellipse cx="100" cy="98" rx="5" ry="6" fill="#FF85C1"
                                                            opacity="0.6" />
                                                        <ellipse cx="102" cy="97" rx="3" ry="4" fill="#FFB6D9"
                                                            opacity="0.5" />
                                                    </g>
                                                    <g id="icing-drip-4">
                                                        <ellipse cx="130" cy="103" rx="7" ry="9"
                                                            fill="url(#icingGradient)" />
                                                        <ellipse cx="130" cy="101" rx="5" ry="6" fill="#FF85C1"
                                                            opacity="0.6" />
                                                        <ellipse cx="132" cy="100" rx="3" ry="4" fill="#FFB6D9"
                                                            opacity="0.5" />
                                                    </g> <!-- 3D Sprinkles with shadows -->
                                                    <g>
                                                        <ellipse cx="50" cy="81" rx="3.5" ry="2" fill="#B8860B"
                                                            opacity="0.3" />
                                                        <circle cx="50" cy="80" r="3" fill="#FFD700" />
                                                        <circle cx="49" cy="79" r="1.5" fill="#FFF4A0" opacity="0.7" />
                                                    </g>
                                                    <g>
                                                        <ellipse cx="70" cy="77" rx="3.5" ry="2" fill="#008B8B"
                                                            opacity="0.3" />
                                                        <circle cx="70" cy="76" r="3" fill="#00CED1" />
                                                        <circle cx="69" cy="75" r="1.5" fill="#7FFFD4" opacity="0.7" />
                                                    </g>
                                                    <g>
                                                        <ellipse cx="90" cy="83" rx="3.5" ry="2" fill="#B8860B"
                                                            opacity="0.3" />
                                                        <circle cx="90" cy="82" r="3" fill="#FFD700" />
                                                        <circle cx="89" cy="81" r="1.5" fill="#FFF4A0" opacity="0.7" />
                                                    </g>
                                                    <g>
                                                        <ellipse cx="110" cy="76" rx="3.5" ry="2" fill="#C71585"
                                                            opacity="0.3" />
                                                        <circle cx="110" cy="75" r="3" fill="#FF69B4" />
                                                        <circle cx="109" cy="74" r="1.5" fill="#FFB6D9" opacity="0.7" />
                                                    </g>
                                                    <g>
                                                        <ellipse cx="130" cy="81" rx="3.5" ry="2" fill="#008B8B"
                                                            opacity="0.3" />
                                                        <circle cx="130" cy="80" r="3" fill="#00CED1" />
                                                        <circle cx="129" cy="79" r="1.5" fill="#7FFFD4" opacity="0.7" />
                                                    </g>
                                                    <g>
                                                        <ellipse cx="145" cy="79" rx="3.5" ry="2" fill="#B8860B"
                                                            opacity="0.3" />
                                                        <circle cx="145" cy="78" r="3" fill="#FFD700" />
                                                        <circle cx="144" cy="77" r="1.5" fill="#FFF4A0" opacity="0.7" />
                                                    </g> <!-- 3D Candle with realistic structure -->
                                                    <rect x="84" y="40" width="14" height="35" rx="5" id="candle-body"
                                                        fill="url(#candleGradient)" />
                                                    <rect x="84" y="40" width="14" height="10" rx="5" fill="#FF4500" />
                                                    <rect x="86" y="42" width="3" height="31" fill="#FF8C69"
                                                        opacity="0.4" />
                                                    <rect x="95" y="42" width="2" height="31" fill="#CC3300"
                                                        opacity="0.3" />
                                                    <line x1="86" y1="45" x2="86" y2="70" stroke="#FF0000"
                                                        stroke-width="1" opacity="0.3" /> <!-- Candle top wax detail -->
                                                    <ellipse cx="91" cy="41" rx="7" ry="3" fill="#FF6347" />
                                                    <ellipse cx="91" cy="40" rx="6" ry="2" fill="#FF8C69"
                                                        opacity="0.6" /> <!-- Wick -->
                                                    <rect x="90" y="32" width="2" height="8" fill="#2C1810" />
                                                    <rect x="90.5" y="32" width="1" height="8" fill="#3D2817"
                                                        opacity="0.6" /> <!-- Realistic 3D Flame (animated) -->
                                                    <g id="flame-group" class="flame-flicker"><!-- Outer glow -->
                                                        <ellipse cx="91" cy="35" rx="14" ry="18" fill="#FFA500"
                                                            opacity="0.3" />
                                                        <ellipse cx="91" cy="35" rx="12" ry="16" fill="#FFA500"
                                                            opacity="0.5" /> <!-- Main flame body -->
                                                        <ellipse cx="91" cy="35" rx="10" ry="14"
                                                            fill="url(#flameGradient)" opacity="0.9" />
                                                        <ellipse cx="91" cy="35" rx="7" ry="11" fill="#FFD700" />
                                                        <ellipse cx="91" cy="34" rx="5" ry="8" fill="#FFFF00" />
                                                        <!-- Flame highlight -->
                                                        <ellipse cx="89" cy="32" rx="3" ry="5" fill="#FFFACD"
                                                            opacity="0.8" />
                                                        <ellipse cx="89" cy="31" rx="2" ry="3" fill="#FFFFFF"
                                                            opacity="0.6" /> <!-- Inner blue core -->
                                                        <ellipse cx="91" cy="37" rx="3" ry="4" fill="#87CEEB"
                                                            opacity="0.4" />
                                                    </g> <!-- Blowing air effect (hidden initially) -->
                                                    <g id="air-blow" opacity="0">
                                                        <ellipse cx="50" cy="35" rx="15" ry="8" fill="#E0F7FF"
                                                            opacity="0.6" />
                                                        <ellipse cx="35" cy="35" rx="12" ry="6" fill="#B3E5FC"
                                                            opacity="0.5" />
                                                        <ellipse cx="20" cy="35" rx="8" ry="5" fill="#81D4FA"
                                                            opacity="0.4" />
                                                    </g>
                                                </svg>
                                            </div>
                                            <p id="blow-instruction"
                                                class="text-white text-xs sm:text-base md:text-lg text-center font-semibold px-3 py-1.5 sm:px-4 sm:py-2 bg-white/10 rounded-full">
                                                Click anywhere to start the magic! âœ¨</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </aside>
                    </div><!-- SCENE 2: Birthday Card (Hidden initially) -->
                    <div id="card-scene-container"
                        class="absolute inset-0 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-1000 px-3 py-4 sm:px-4 sm:py-6">
                        <main class="max-w-4xl w-full" aria-labelledby="main-title">
                            <section id="card"
                                class="rounded-2xl sm:rounded-3xl shadow-2xl px-4 py-4 sm:px-6 sm:py-6 md:px-10 md:py-8 transform">
                                <header class="text-center mb-4 sm:mb-6">
                                    <div
                                        class="inline-flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-semibold tracking-wide px-3 py-1.5 sm:px-4 sm:py-2 rounded-full bg-white/15 text-white mb-3 sm:mb-4">
                                        <span class="text-base sm:text-lg" aria-hidden="true">ðŸŽ–ï¸</span> <span>For My
                                            Brave NCC Cadet</span>
                                    </div>
                                    <h1 id="main-title"
                                        class="text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-white mb-2 sm:mb-3">
                                        Happy Birthday, Srinithi! ðŸŽ‰</h1>
                                    <p id="subtitle-text"
                                        class="text-sm sm:text-base md:text-lg text-white/90 max-w-2xl mx-auto">My brave
                                        NCC cadet and wonderful friend</p>
                                </header>
                                <section aria-label="Birthday quotes" class="max-w-3xl mx-auto">
                                    <div
                                        class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm md:text-base">
                                        <div
                                            class="bg-white/5 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10">
                                            <p class="text-white/90">"To my brave NCC cadet who stands tall in uniform â€“
                                                you inspire everyone with your discipline, courage, and dedication to
                                                service. ðŸŽ–ï¸"</p>
                                        </div>
                                        <div
                                            class="bg-white/5 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10">
                                            <p class="text-white/90">"You're an amazing friend â€“ always there to
                                                support, guide, and help when needed. Thank you for being such a
                                                wonderful person. ï¿½ï¿½ï¿½"</p>
                                        </div>
                                        <div
                                            class="bg-white/5 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10">
                                            <p class="text-white/90">"Friends like you are rare â€“ you march with pride,
                                                serve with honor, and bring joy to everyone around you. ðŸŒŸ"</p>
                                        </div>
                                        <div
                                            class="bg-white/5 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10">
                                            <p class="text-white font-semibold">"May this year bring you success in
                                                every endeavor, happiness in every moment, and all the wonderful things
                                                you deserve. ðŸŽŠ"</p>
                                        </div>
                                    </div>
                                </section>
                                <footer class="mt-4 sm:mt-8 pt-4 sm:pt-6 border-t border-white/10 text-center">
                                    <p id="footer-text" class="text-white/80 text-xs sm:text-sm md:text-base">Wishing
                                        you an amazing year ahead! ðŸŽ‰</p>
                                </footer>
                            </section>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // ---------- CONFIG ----------
        const defaultConfig = {
            main_title: "Happy Birthday, Srinithi! ðŸŽ‰",
            subtitle_text: "My brave NCC cadet and wonderful friend",
            blow_instruction: "Click the candle flame to blow it out! ðŸŽ‚",
            footer_text: "Wishing you an amazing year ahead! ðŸŽ‰",
            background_color: "#6366f1",
            surface_color: "#1e293b",
            text_color: "#ffffff",
            primary_action_color: "#f59e0b",
            secondary_action_color: "#ec4899",
            font_family: "Poppins",
            font_size: 16
        };

        let lightsOn = true;
        let candleBlown = false;

        function applyConfig(config) {
            const merged = Object.assign({}, defaultConfig, config || {});
            const baseFont = merged.font_family || defaultConfig.font_family;
            const baseSize = merged.font_size || defaultConfig.font_size;
            const fontStack = baseFont + ", system-ui, -apple-system, sans-serif";

            const bg = merged.background_color;
            const surface = merged.surface_color;
            const textColor = merged.text_color;
            const primary = merged.primary_action_color;
            const secondary = merged.secondary_action_color;

            // Apply background
            const bgLayer = document.getElementById("background-layer");
            if (bgLayer) {
                bgLayer.style.backgroundImage =
                    "radial-gradient(circle at top left, " + secondary + " 0%, transparent 55%), " +
                    "radial-gradient(circle at bottom right, " + primary + " 0%, transparent 50%), " +
                    "linear-gradient(135deg, " + bg + ", #0f172a)";
            }

            // Apply card colors
            const card = document.getElementById("card");
            if (card) {
                card.style.backgroundColor = surface;
                card.style.border = "1px solid rgba(255,255,255,0.08)";
            }

            const cakeScene = document.getElementById("cake-scene");
            if (cakeScene) {
                cakeScene.style.backgroundColor = "rgba(15,23,42,0.85)";
                cakeScene.style.border = "1px solid rgba(255,255,255,0.1)";
            }

            // Apply text content
            const mainTitle = document.getElementById("main-title");
            const subtitle = document.getElementById("subtitle-text");
            const blowInst = document.getElementById("blow-instruction");
            const footer = document.getElementById("footer-text");

            if (mainTitle) mainTitle.textContent = merged.main_title;
            if (subtitle) subtitle.textContent = merged.subtitle_text;
            if (blowInst) blowInst.textContent = merged.blow_instruction;
            if (footer) footer.textContent = merged.footer_text;

            // Apply typography
            const textEls = [
                { el: mainTitle, size: baseSize * 2.5 },
                { el: subtitle, size: baseSize * 1.1 },
                { el: blowInst, size: baseSize },
                { el: footer, size: baseSize * 0.95 },
                { el: document.getElementById("wish-card-text"), size: baseSize * 0.9 }
            ];

            textEls.forEach((item) => {
                if (item.el) {
                    item.el.style.fontFamily = fontStack;
                    item.el.style.fontSize = item.size + "px";
                    item.el.style.color = textColor;
                }
            });

            // SVG cake colors
            const cakePlate = document.getElementById("cake-plate");
            const cakeBody = document.getElementById("cake-body");
            const cakeIcing = document.getElementById("cake-icing");
            const candleBody = document.getElementById("candle-body");

            if (cakePlate) cakePlate.setAttribute("fill", "#8B7355");
            if (cakeBody) cakeBody.setAttribute("fill", surface);
            if (cakeIcing) cakeIcing.setAttribute("fill", primary);
            if (candleBody) candleBody.setAttribute("fill", secondary);

            const icingDrips = [
                document.getElementById("icing-drip-1"),
                document.getElementById("icing-drip-2"),
                document.getElementById("icing-drip-3"),
                document.getElementById("icing-drip-4")
            ];
            icingDrips.forEach(drip => {
                if (drip) drip.setAttribute("fill", primary);
            });
        }

        // ---------- CONFETTI ----------
        function createConfetti() {
            const container = document.getElementById("confetti-container");
            if (!container) return;
            container.innerHTML = "";

            const colors = ["#fbbf24", "#f472b6", "#a78bfa", "#ffffff"];
            const count = 80;

            for (let i = 0; i < count; i++) {
                const piece = document.createElement("div");
                piece.className = "confetti-piece";
                const left = Math.random() * 100;
                const delay = Math.random() * 5;
                const duration = 5 + Math.random() * 4;
                const size = 5 + Math.random() * 7;
                const color = colors[i % colors.length];

                piece.style.position = "absolute";
                piece.style.left = left + "%";
                piece.style.top = "-10%";
                piece.style.width = size + "px";
                piece.style.height = size * 2 + "px";
                piece.style.backgroundColor = color;
                piece.style.borderRadius = "999px";
                piece.style.opacity = "0";
                piece.style.animationDuration = duration + "s";
                piece.style.animationDelay = delay + "s";

                container.appendChild(piece);
            }
        }

        // ---------- CANDLE BLOW ANIMATION SEQUENCE ----------
        function initCandleBlow() {
            const candleBtn = document.getElementById("candle-button");
            const cakeSceneContainer = document.getElementById("cake-scene-container");
            const cardSceneContainer = document.getElementById("card-scene-container");
            const flameGroup = document.getElementById("flame-group");
            const bgLayer = document.getElementById("background-layer");
            const girlCharacter = document.getElementById("girl-character");
            const airBlow = document.getElementById("air-blow");
            const blowInstruction = document.getElementById("blow-instruction");

            if (!candleBtn || !flameGroup) return;

            // Start animation sequence on click
            candleBtn.addEventListener("click", function () {
                if (candleBlown) return;
                candleBlown = true;

                // STEP 1: Girl walks in (0-2s)
                if (girlCharacter) {
                    girlCharacter.style.transform = "translateX(0)";
                    girlCharacter.style.opacity = "1";
                }

                if (blowInstruction) {
                    blowInstruction.textContent = "Watch the magic happen... âœ¨";
                }

                // STEP 2: Girl blows air (2-3s)
                setTimeout(() => {
                    if (airBlow) {
                        airBlow.style.opacity = "1";
                        airBlow.style.transition = "opacity 0.5s ease-out";
                    }
                }, 2000);

                // STEP 3: Candle blows out (3s)
                setTimeout(() => {
                    flameGroup.classList.remove("flame-flicker");
                    flameGroup.classList.add("blow-out");
                }, 3000);

                // STEP 4: Lights turn off (3.5s)
                setTimeout(() => {
                    if (bgLayer) {
                        bgLayer.style.backgroundImage = "linear-gradient(135deg, #1e293b, #0f172a)";
                        bgLayer.style.filter = "brightness(0.25)";
                    }
                    lightsOn = false;
                }, 3500);

                // STEP 5: Fade out cake scene and show card (4.5s)
                setTimeout(() => {
                    if (cakeSceneContainer) {
                        cakeSceneContainer.style.opacity = "0";
                        cakeSceneContainer.style.pointerEvents = "none";
                    }

                    // Restore lights for card scene
                    if (bgLayer) {
                        bgLayer.style.filter = "brightness(1)";
                        const merged = Object.assign({}, defaultConfig, window.elementSdk ? window.elementSdk.config : {});
                        const bg = merged.background_color;
                        const primary = merged.primary_action_color;
                        const secondary = merged.secondary_action_color;
                        bgLayer.style.backgroundImage =
                            "radial-gradient(circle at top left, " + secondary + " 0%, transparent 55%), " +
                            "radial-gradient(circle at bottom right, " + primary + " 0%, transparent 50%), " +
                            "linear-gradient(135deg, " + bg + ", #0f172a)";
                    }

                    // Show birthday card
                    if (cardSceneContainer) {
                        cardSceneContainer.style.opacity = "1";
                        cardSceneContainer.style.pointerEvents = "auto";
                    }

                    // Trigger confetti
                    createConfetti();
                }, 4500);
            });
        }

        // ---------- ELEMENT SDK INIT ----------
        (async function initCanvaCode() {
            if (!window.elementSdk) {
                applyConfig(defaultConfig);
                createConfetti();
                initCandleBlow();
                return;
            }

            window.elementSdk.init({
                defaultConfig,
                onConfigChange: async (config) => {
                    applyConfig(config);
                },
                mapToCapabilities: (config) => {
                    const current = Object.assign({}, defaultConfig, config || {});
                    return {
                        recolorables: [
                            {
                                get: () => current.background_color || defaultConfig.background_color,
                                set: (value) => {
                                    window.elementSdk.setConfig({ background_color: value });
                                }
                            },
                            {
                                get: () => current.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    window.elementSdk.setConfig({ surface_color: value });
                                }
                            },
                            {
                                get: () => current.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    window.elementSdk.setConfig({ text_color: value });
                                }
                            },
                            {
                                get: () => current.primary_action_color || defaultConfig.primary_action_color,
                                set: (value) => {
                                    window.elementSdk.setConfig({ primary_action_color: value });
                                }
                            },
                            {
                                get: () => current.secondary_action_color || defaultConfig.secondary_action_color,
                                set: (value) => {
                                    window.elementSdk.setConfig({ secondary_action_color: value });
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: {
                            get: () => current.font_family || defaultConfig.font_family,
                            set: (value) => {
                                window.elementSdk.setConfig({ font_family: value });
                            }
                        },
                        fontSizeable: {
                            get: () => current.font_size || defaultConfig.font_size,
                            set: (value) => {
                                window.elementSdk.setConfig({ font_size: value });
                            }
                        }
                    };
                },
                mapToEditPanelValues: (config) => {
                    const merged = Object.assign({}, defaultConfig, config || {});
                    return new Map([
                        ["main_title", merged.main_title],
                        ["subtitle_text", merged.subtitle_text],
                        ["blow_instruction", merged.blow_instruction],
                        ["footer_text", merged.footer_text]
                    ]);
                }
            });

            applyConfig(window.elementSdk.config || defaultConfig);
            createConfetti();
            initCandleBlow();
        })();

        document.addEventListener("DOMContentLoaded", () => {
            initCandleBlow();
        });
    </script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'9a67b48f33ee7e8a',t:'MTc2NDQ3ODAzMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>